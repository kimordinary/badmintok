{% extends "base.html" %}
{% load static %}

{% block title %}문의하기 - 마이페이지{% endblock %}

{% block content %}
<section class="section" style="position: relative; margin-top: 20px;">
    <div class="container" style="position: relative; min-height: 400px; margin-top: 0; max-width: 800px;">
        <div style="margin-bottom: 24px;">
            <a href="{% url 'accounts:mypage' %}" style="display: inline-flex; align-items: center; gap: 8px; color: var(--brand); text-decoration: none; font-weight: 600; margin-bottom: 16px;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                마이페이지로 돌아가기
            </a>
            <h1 style="font-size: 28px; font-weight: 700; margin: 0; color: var(--brand-800);">문의하기</h1>
        </div>

        <div style="background: #fff; border: 1px solid #e2e8f0; border-radius: 12px; padding: 32px;">
            {% if form.errors %}
                <div class="form-errors">
                    <strong>다음 오류를 수정해주세요:</strong>
                    <ul style="margin: 8px 0 0 0; padding-left: 20px;">
                        {% for field, errors in form.errors.items %}
                            {% for error in errors %}
                                <li>{{ field }}: {{ error }}</li>
                            {% endfor %}
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}

            <form method="post">
                {% csrf_token %}
                
                <div class="form-field">
                    <label for="{{ form.category.id_for_label }}">문의 유형 <span class="required">*</span></label>
                    {{ form.category }}
                    {% if form.category.errors %}
                        <p class="error-text">{{ form.category.errors.0 }}</p>
                    {% endif %}
                </div>

                <div class="form-field">
                    <label for="{{ form.title.id_for_label }}">제목 <span class="required">*</span></label>
                    {{ form.title }}
                    {% if form.title.errors %}
                        <p class="error-text">{{ form.title.errors.0 }}</p>
                    {% endif %}
                </div>

                <div class="form-field">
                    <label for="{{ form.content.id_for_label }}">내용 <span class="required">*</span></label>
                    {{ form.content }}
                    {% if form.content.errors %}
                        <p class="error-text">{{ form.content.errors.0 }}</p>
                    {% endif %}
                </div>

                <div style="display: flex; gap: 12px; margin-top: 32px; flex-wrap: wrap;">
                    <button type="submit" class="btn btn-primary" style="flex: 1; min-width: 120px;">
                        문의하기
                    </button>
                    <a href="{% url 'accounts:inquiry_list' %}" class="btn btn-ghost" style="flex: 1; min-width: 120px; text-align: center;">
                        문의 내역 보기
                    </a>
                    <a href="{% url 'accounts:mypage' %}" class="btn btn-ghost" style="flex: 1; min-width: 120px; text-align: center;">
                        취소
                    </a>
                </div>
            </form>
        </div>
    </div>
</section>
{% endblock %}
